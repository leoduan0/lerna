---
title: 'Chain Rule'
authors: ['Leo Duan']
date: '2024-01-25'
---

# Chain Rule

If $$ z=f(x, y), x=g(t), y=h(t) $$, then $$ \frac{dz}{dt}=\frac{\partial z}{\partial x}\frac{dx}{dt}+\frac{\partial z}{\partial y}\frac{dy}{dt} $$.

If $$ z=f(x, y), x=g(t, u), y=h(t, u) $$, then $$ \frac{\partial z}{\partial t}=\frac{\partial z}{\partial x}\frac{\partial x}{\partial t}+\frac{\partial z}{\partial y}\frac{\partial y}{\partial t} $$ and $$ \frac{\partial z}{\partial u}=\frac{\partial z}{\partial x}\frac{\partial x}{\partial u}+\frac{\partial z}{\partial y}\frac{\partial y}{\partial u} $$.

<Problem
  question={
    <p>
      For <Math math={'f(x, y)'} type={'inline'} />,{' '}
      <Math math={'x=r\\cos(\\theta)'} type={'inline'} />,{' '}
      <Math math={'y=r\\sin(\\theta)'} type={'inline'} />, find{' '}
      <Math math={'\\frac{\\partial^2f}{\\partial\\theta^2}'} type={'inline'} />
      .
    </p>
  }
  choices={[
    <Math
      math={
        '-r\\cos(\\theta)\\frac{\\partial f}{\\partial x}+\\frac{r\\cos(\\theta)}{r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x^2}+r\\cos(\\theta)\\frac{\\partial^2f}{\\partial y \\partial x}}-r\\sin(\\theta)\\frac{\\partial f}{\\partial y}+r\\sin(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x \\partial y}+r\\sin(\\theta)\\frac{\\partial^2f}{\\partial y^2}\\right)'
      }
      type={'inline'}
    />,
    <Math
      math={
        '-r\\cos(\\theta)\\frac{\\partial f}{\\partial x}-r\\tan(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x^2}+r\\cos(\\theta)\\frac{\\partial^2f}{\\partial y \\partial x}\\right)-r\\sin(\\theta)\\frac{\\partial f}{\\partial y}+r\\cos(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x \\partial y}+r\\sin(\\theta)\\frac{\\partial^2f}{\\partial y^2}\\right)'
      }
      type={'inline'}
    />,
    <Math
      math={
        '-r\\cos(\\theta)\\frac{\\partial f}{\\partial x}-r\\sin(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x^2}+r\\cos(\\theta)\\frac{\\partial^2f}{\\partial y \\partial x}\\right)-r\\sin(\\theta)\\frac{\\partial f}{\\partial y}+r\\cos(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x \\partial y}+r\\cos(\\theta)\\frac{\\partial^2f}{\\partial y^2}\\right)'
      }
      type={'inline'}
    />,
    <Math
      math={
        '-r\\cos(\\theta)\\frac{\\partial f}{\\partial x}+r\\sin(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x^2}+r\\cos(\\theta)\\frac{\\partial^2f}{\\partial y \\partial x}\\right)-r\\sin(\\theta)\\frac{\\partial f}{\\partial y}+r\\cos(\\theta)\\left(-r\\sin(\\theta)\\frac{\\partial^2f}{\\partial x \\partial y}+r\\cos(\\theta)\\frac{\\partial^2f}{\\partial y^2}\\right)'
      }
      type={'inline'}
    />,
  ]}
  correct={3}
  solution={
    <table>
      <tr>
        <th>
          <span>Procedure</span>
        </th>
        <th>
          <span>Annotation</span>
        </th>
      </tr>
      <tr>
        <td>
          <Math
            math={'\\frac{\\partial^2f}{\\partial\\theta^2}'}
            type={'inline'}
          />
        </td>
        <td>
          <></>
        </td>
      </tr>
      <tr>
        <td>
          <Math
            math={
              '\\frac{\\partial}{\\partial\\theta} \\left(\\frac{\\partial f}{\\partial\\theta} \\right)'
            }
            type={'inline'}
          />
        </td>
        <td>
          <span>Expand.</span>
        </td>
      </tr>
      <tr>
        <td>
          <Math
            math={
              '\\frac{\\partial}{\\partial\\theta} \\left(\\frac{\\partial f}{\\partial x} \\frac{\\partial x}{\\partial\\theta} + \\frac{\\partial f}{\\partial y} \\frac{\\partial y}{\\partial\\theta}\\right)'
            }
            type={'inline'}
          />
        </td>
        <td>
          <span>Apply chain rule.</span>
        </td>
      </tr>
      <tr>
        <td>
          <Math
            math={
              '\\frac{\\partial}{\\partial\\theta} \\left(-r\\sin(\\theta)\\frac{\\partial f}{\\partial x} + r\\cos(\\theta) \\frac{\\partial f}{\\partial y} \\right)'
            }
            type={'inline'}
          />
        </td>
        <td>
          <span>
            Evaluate{' '}
            <Math
              math={'\\frac{\\partial x}{\\partial\\theta}'}
              type={'inline'}
            />{' '}
            and{' '}
            <Math
              math={'\\frac{\\partial y}{\\partial\\theta}'}
              type={'inline'}
            />
            .
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <Math
            math={
              '-r\\cos(\\theta) \\frac{\\partial f}{\\partial x} - r\\sin(\\theta) \\frac{\\partial^2 f}{\\partial \\theta \\partial x} - r\\sin(\\theta) \\frac{\\partial f}{\\partial y} + r\\cos(\\theta) \\frac{\\partial^2 f}{\\partial \\theta \\partial y}'
            }
            type={'inline'}
          />
        </td>
        <td>
          <p>Apply product rule.</p>
        </td>
      </tr>
      <tr>
        <td>
          <Math
            math={
              '-r\\cos(\\theta) \\frac{\\partial f}{\\partial x} - r\\sin(\\theta) \\left( -r\\sin(\\theta) \\frac{\\partial^2 f}{\\partial x^2} + r\\cos(\\theta) \\frac{\\partial^2 f}{\\partial y \\partial x} \\right) - r\\sin(\\theta) \\frac{\\partial f}{\\partial y} + r\\cos(\\theta) \\left( -r\\sin(\\theta) \\frac{\\partial^2 f}{\\partial x \\partial y} + r\\cos(\\theta) \\frac{\\partial^2 f}{\\partial y^2} \\right)'
            }
            type={'inline'}
          />
        </td>
        <td>
          <>
            <p>From step 3 we find that:</p>
            <Math
              math={
                '\\frac{\\partial f}{\\partial\\theta} = -r\\sin(\\theta)\\frac{\\partial f}{\\partial x} + r\\cos(\\theta) \\frac{\\partial f}{\\partial y}'
              }
              type={'block'}
            />
            <p>From so, using the product rule, we find that:</p>
            <Math
              math={
                '\\frac{\\partial^2 f}{\\partial \\theta \\partial x} = -r\\sin(\\theta) \\frac{\\partial^2 f}{\\partial x^2} + r\\cos(\\theta) \\frac{\\partial^2 f}{\\partial y \\partial x}'
              }
              type={'block'}
            />
            <Math
              math={
                '\\frac{\\partial^2 f}{\\partial \\theta \\partial y} = -r\\sin(\\theta) \\frac{\\partial^2 f}{\\partial x \\partial y} + r\\cos(\\theta) \\frac{\\partial^2 f}{\\partial y^2}'
              }
              type={'block'}
            />
            <p>Then, plug these values in, and that's the answer.</p>
          </>
        </td>
      </tr>
    </table>
  }
/>
